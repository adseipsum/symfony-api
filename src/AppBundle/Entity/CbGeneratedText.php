<?php

namespace AppBundle\Entity;

use Rbl\CouchbaseBundle\Base\CbBaseObject;

class CbGeneratedText extends CbBaseObject
{

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public function __construct()
    {
        parent::__construct();
        $this->setAddTime(new \DateTime());
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public function setText(string $text)
    {
        $this->set('templateText', $text);
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public function getText() : string
    {
        return $this->get('templateText');
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public function setPreparedText(array $text)
    {
        $this->set('preparedText', $text);
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public function getPreparedText() : array
    {
        $ret = $this->get('preparedText');
        if (isset($ret)) {
            return $ret;
        } else {
            return [];
        }
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public function setPreparedTextParamsHash(string $preparedTextParamsHash)
    {
        $this->set('preparedTextParamsHash', $preparedTextParamsHash);
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public function getPreparedTextParamsHash() : string
    {
        $ret = $this->get('preparedTextParamsHash');
        if (isset($ret)) {
            return $ret;
        } else {
            return "";
        }
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public function setTemplateId(string $name)
    {
        $this->set('templateId', $name);
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public function getTemplateId() : string
    {
        return $this->get('templateId');
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public function getAddTime() : \DateTime
    {
        $ret = new \DateTime();
        $unixtimestamp = $this->get('unixtimestamp');
        $ret->setTimestamp($unixtimestamp);
        return $ret;
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public function setAddTime(\DateTime $time = null)
    {
        $this->set('unixtimestamp', $time->getTimestamp());
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////
}
